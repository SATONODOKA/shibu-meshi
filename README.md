# 🍽 shibu-meshi

**AIを使わない自然文解析による飲食店レコメンドシステム**

「今の気分」を自然文で入力するだけで、キーワードマッチングと口コミ分析により、あなたにぴったりの飲食店を推薦します。

## ✨ 特徴

### 🧠 AI不使用の自然文解析
- **キーワード辞書**: 温度、食感、気分、ジャンル別の豊富なキーワード辞書
- **形態素解析**: 日本語の自然文を適切に解析
- **否定表現対応**: 「辛くないもの」「高くないお店」などの否定表現を認識

### 💬 高精度な口コミ分析
- **感情分析**: ポジティブ・ネガティブキーワードの重み付けスコアリング
- **食感マッチング**: ユーザーの好みと口コミの食感表現をマッチング
- **気分一致度**: 現在の気分と店の雰囲気の適合度を算出

### 🌐 モダンなWeb体験
- **レスポンシブデザイン**: スマホ・タブレット・PC対応
- **リアルタイム進捗**: 解析プロセスの可視化
- **クイック選択**: よくある気分をワンクリック入力
- **お店保存機能**: お気に入り店舗のローカル保存

### 🚀 Netlify完全対応
- **サーバーレス**: Netlify Functionsで動作
- **高速配信**: CDN配信で世界中から高速アクセス
- **簡単デプロイ**: GitHubプッシュで自動デプロイ

## 🎯 システムフロー

```
1. 自然文入力 → キーワード抽出・構造化
   「朝は軽め、今は温かいものがほしい」
   ↓
   { 
     desired_keywords: ["軽め", "温かい"],
     time_of_day: "morning",
     appetite_level: "light"
   }

2. 店舗検索 → ジャンル・条件でフィルタリング
   候補店舗10-20件取得

3. 口コミ分析 → 各店舗をスコアリング
   - ポジティブ/ネガティブ解析
   - 食感・気分マッチング
   - 総合スコア算出

4. 結果表示 → 上位3件を理由付きで推薦
   スコア順に表示 + マッチ理由説明
```

## 🛠 技術スタック

- **フロントエンド**: HTML5 + CSS3 + Vanilla JavaScript
- **バックエンド**: Node.js (Netlify Functions)
- **自然言語処理**: キーワード辞書 + 正規表現
- **データ処理**: 統計的手法 + 重み付けスコアリング
- **デプロイ**: Netlify (CDN + Functions)

## 🚀 クイックスタート

### 1. ローカル開発

```bash
# プロジェクトをクローン
git clone https://github.com/jokerjunya/shibu-meshi.git
cd shibu-meshi

# 依存関係をインストール
npm install

# 開発サーバーを起動
npm run dev

# ブラウザで開く
# http://localhost:8888
```

### 2. Netlifyデプロイ

```bash
# Netlify CLIをインストール（未インストールの場合）
npm install -g netlify-cli

# Netlifyにログイン
netlify login

# サイトを作成してデプロイ
netlify deploy --prod --dir=public --functions=netlify/functions
```

### 3. GitHub連携デプロイ

1. GitHubリポジトリにプッシュ
2. Netlifyでサイト作成
3. GitHubリポジトリを連携
4. 自動デプロイ設定完了

## 📁 プロジェクト構造

```
shibu-meshi/
├── public/                 # 静的ファイル
│   ├── index.html         # メインページ
│   ├── styles.css         # スタイルシート
│   └── app.js             # フロントエンドロジック
├── src/                   # ソースコード
│   ├── dictionaries/      # キーワード辞書
│   │   └── mood_keywords.js
│   └── utils/            # ユーティリティ
│       ├── textAnalyzer.js    # 自然文解析
│       └── reviewAnalyzer.js  # 口コミ分析
├── netlify/functions/     # Netlify Functions
│   └── analyze.js         # 解析APIエンドポイント
├── package.json          # プロジェクト設定
├── netlify.toml          # Netlify設定
└── README.md            # このファイル
```

## 🎨 使用例

### 自然文入力例

```
✅ 良い例:
"朝は軽め、今は温かいものがほしい"
"がっつりとした中華が食べたい"
"お祝い用の特別なお店を探している"
"安くて美味しいコスパの良いお店"

⚠️ 対応していない例:
"渋谷駅から徒歩5分以内の店" (位置情報検索)
"予算3000円以下で4人席" (詳細条件検索)
"今すぐ予約できる店" (リアルタイム情報)
```

### 解析結果例

```json
{
  "desired_keywords": [
    { "keyword": "軽め", "category": "light", "weight": 1.2 },
    { "keyword": "温かい", "category": "hot", "weight": 1.0 }
  ],
  "avoid_keywords": [],
  "suggested_genres": [],
  "appetite_level": "light",
  "time_of_day": "morning",
  "mood": [],
  "confidence_score": 0.8
}
```

## 📊 キーワード辞書

### 気分・欲求キーワード
- **温度**: 温かい、冷たい、アツアツ、ひんやり
- **食感**: サクサク、ふわふわ、とろとろ、もちもち
- **食欲**: 軽め、がっつり、ボリューム、あっさり
- **時間**: 朝、昼、夜、モーニング、ランチ
- **気分**: 癒し、元気、お祝い、リラックス

### ジャンル別キーワード
- **和食**: 寿司、そば、うどん、天ぷら、焼き鳥
- **中華**: ラーメン、餃子、炒飯、麻婆豆腐
- **洋食**: パスタ、ピザ、ステーキ、ハンバーグ
- **韓国**: キムチ、ビビンバ、焼肉、チヂミ
- **カフェ**: コーヒー、スイーツ、パン、サンドイッチ

## 🔍 口コミ分析アルゴリズム

### スコアリング要素
1. **基本評価** (星評価): 1-5点
2. **ポジティブキーワード**: +2.0点 (味), +1.8点 (コスパ)
3. **ネガティブキーワード**: -2.0点 (味), -1.8点 (清潔感)
4. **食感マッチング**: +1.5点 (ユーザー好みと一致)
5. **気分マッチング**: +1.3点 (雰囲気が一致)
6. **口コミ長さ**: 長いほど信頼度高 (重み付け)

### 信頼度計算
- **口コミ数**: 5件以上で100%
- **口コミ長さ**: 50文字以上で100%
- **キーワード密度**: 適度なキーワード含有で100%

## 🎯 今後の拡張予定

### Phase 2: データ拡充
- [ ] 食べログAPI連携
- [ ] Googleマップ連携
- [ ] リアルタイム営業情報

### Phase 3: 機能拡張
- [ ] 位置情報対応
- [ ] 予算フィルター
- [ ] 営業時間フィルター
- [ ] 予約機能連携

### Phase 4: UX改善
- [ ] 音声入力対応
- [ ] 履歴機能
- [ ] ユーザー学習機能
- [ ] ソーシャル機能

## 🤝 コントリビューション

1. Forkしてブランチを作成
2. 機能追加・バグ修正
3. テストを実行
4. Pull Requestを作成

## 📄 ライセンス

MIT License

## 🙋‍♂️ サポート

質問やバグ報告は [Issues](https://github.com/jokerjunya/shibu-meshi/issues) までお願いします。

---

**🍽 shibu-meshi** - 気分でみつける、あなたのお店 